<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>hype.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Hype</span> <span class="project-version">2.0.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="getting-started.html"><div class="inner"><span>Getting Started</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="hype.core.html"><div class="inner"><span>hype.core</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="hype.core.html#var-absolute-path-.3Eabsolute-url"><div class="inner"><span>absolute-path-&gt;absolute-url</span></div></a></li><li class="depth-1"><a href="hype.core.html#var-absolute-path-for"><div class="inner"><span>absolute-path-for</span></div></a></li><li class="depth-1"><a href="hype.core.html#var-absolute-url-for"><div class="inner"><span>absolute-url-for</span></div></a></li><li class="depth-1"><a href="hype.core.html#var-Backend"><div class="inner"><span>Backend</span></div></a></li><li class="depth-2"><a href="hype.core.html#var-path-for"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>path-for</span></div></a></li><li class="depth-1"><a href="hype.core.html#var-BackendFactory"><div class="inner"><span>BackendFactory</span></div></a></li><li class="depth-2"><a href="hype.core.html#var-backend-for"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>backend-for</span></div></a></li><li class="depth-1"><a href="hype.core.html#var-base-url"><div class="inner"><span>base-url</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">hype.core</h1><div class="doc"><div class="markdown"><p>Hypermedia functions for <code>ring</code> routers.</p>
<p><code>hype</code> currently provides support for:</p>
<ul>
<li>generating paths or URLs,</li>
<li>including template parameters, and</li>
<li>converting between paths and URLs.</li>
</ul>
<p><code>hype</code> includes built in backends for <code>bidi</code> and <code>reitit</code> and includes extension points allowing other routers to be supported.</p>
</div></div><div class="public anchor" id="var-absolute-path-.3Eabsolute-url"><h3>absolute-path-&gt;absolute-url</h3><div class="usage"><code>(absolute-path-&gt;absolute-url request absolute-path)</code></div><div class="doc"><div class="markdown"><p>Builds an absolute URL by appending <code>absolute-path</code> to the base URL of <code>request</code>.</p>
<p>The <code>request</code> should be a ring request or equivalent. The URL is returned as a string.</p>
</div></div><div class="src-link"><a href="https://github.com/logicblocks/hype/blob/2.0.0/src/hype/core.clj#L98">view source</a></div></div><div class="public anchor" id="var-absolute-path-for"><h3>absolute-path-for</h3><div class="usage"><code>(absolute-path-for router route)</code><code>(absolute-path-for router route {:keys [path-params path-template-params path-template-param-key-fn query-params query-param-key-fn query-template-params query-template-param-key-fn], :or {path-params {}, path-template-params {}, path-template-param-key-fn csk/-&gt;camelCaseString, query-params {}, query-param-key-fn csk/-&gt;camelCaseString, query-template-params [], query-template-param-key-fn csk/-&gt;camelCaseString}, :as params})</code></div><div class="doc"><div class="markdown"><p>Builds an absolute path for <code>route</code> based on <code>router</code> and <code>params</code> where:</p>
<ul>
<li><code>router</code> is a <code>reitit</code> router or a <code>bidi</code> routes data structure,</li>
<li><code>route</code> is a keyword identifying the name of the route for which to build a path,</li>
<li><code>params</code> is an optional map which optionally includes any of:
<ul>
<li><code>path-params</code>: parameters defined in the routes as route patterns, specified as a map,</li>
<li><code>path-template-params</code>: parameters that should remain templatable in the resulting path, specified as a map from path parameter name to template variable name, as keywords.</li>
<li><code>path-template-param-key-fn</code>: a function to apply to path template variable names before including in the path, camel casing by default.</li>
<li><code>query-params</code>: parameters that should be appended to the path as query string parameters, specified as a map,</li>
<li><code>query-param-key-fn</code>: a function to apply to query parameter keys before including in the path, camel casing by default,</li>
<li><code>query-template-params</code>: parameters that should be appended to the path as query string template parameters, specified as a sequence of parameter names,</li>
<li><code>query-template-param-key-fn</code>: a function to apply to query template parameter keys before including in the path, camel casing by default.</li>
</ul>
</li>
</ul>
<p>The path is returned as a string.</p>
<p>Examples:</p>
<pre><code>;; bidi
(def router
  ["/" {"index.html" :index
          "articles/" {"index.html" :article-index
                         [:id "/article.html"] :article}}])
;; or reitit
(def router
  (reitit/router
    [["/index.html" :index]
     ["/articles/index.html" :article-index]
     ["/articles/:id/article.html" :article]]))

(absolute-path-for router :index)
; =&gt; "/index.html"

(absolute-path-for router :article
  {:path-params {:id 10}})
; =&gt; "/articles/10/article.html"

(absolute-path-for router :article
  {:path-template-params {:id :article-id}})
; =&gt; "/articles/{articleId}/article.html"

(absolute-path-for router :article
  {:path-template-params {:id :articleID}
   :path-template-param-key-fn clojure.core/identity})
; =&gt; "/articles/{articleID}/article.html"

(absolute-path-for router :article-index
  {:query-params {:latest true
                  :sort-direction "descending"}
   :query-template-params [:per-page :page]})
; =&gt; "/articles/index.html?latest=true&amp;sortDirection=descending{&amp;perPage,page}"

(absolute-path-for router :article
  {:path-params {:id 10}
   :query-template-params [:include-author, :include-images]})
; =&gt; "/articles/10/article.html{?includeAuthor,includeImages}"

(absolute-path-for router :article-index
  {:query-params {:latest true
                  :sort-direction "descending"}
   :query-param-key-fn clojure.core/identity
   :query-template-params [:per-page :page]
   :query-template-param-key-fn clojure.core/identity})
; =&gt; "/articles/index.html?latest=true&amp;sort-direction=descending{&amp;per-page,page}"
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/logicblocks/hype/blob/2.0.0/src/hype/core.clj#L107">view source</a></div></div><div class="public anchor" id="var-absolute-url-for"><h3>absolute-url-for</h3><div class="usage"><code>(absolute-url-for request router route)</code><code>(absolute-url-for request router route params)</code></div><div class="doc"><div class="markdown"><p>Builds an absolute URL for <code>route</code> based on <code>request</code>, <code>router</code> and <code>params</code> where:</p>
<ul>
<li><code>router</code> is a <code>reitit</code> router or a <code>bidi</code> routes data structure,</li>
<li><code>route</code> is a keyword identifying the name of the route for which to build a path,</li>
<li><code>params</code> is an optional map which optionally includes any of:
<ul>
<li><code>path-params</code>: parameters defined in the routes as route patterns, specified as a map,</li>
<li><code>path-template-params</code>: parameters that should remain templatable in the resulting path, specified as a map from path parameter name to template variable name, as keywords.</li>
<li><code>path-template-param-key-fn</code>: a function to apply to path template variable names before including in the path, camel casing by default.</li>
<li><code>query-params</code>: parameters that should be appended to the path as query string parameters, specified as a map,</li>
<li><code>query-param-key-fn</code>: a function to apply to query parameter keys before including in the path, camel casing by default,</li>
<li><code>query-template-params</code>: parameters that should be appended to the path as query string template parameters, specified as a sequence of parameter names,</li>
<li><code>query-template-param-key-fn</code>: a function to apply to query parameter template keys before including in the path, camel casing by default.</li>
</ul>
</li>
</ul>
<p>The <code>request</code> should be a ring request or equivalent. The URL is returned as a string.</p>
<p>Examples: (require â€™<a href="ring.mock.request :as ring-mock">ring.mock.request :as ring-mock</a>)</p>
<pre><code>(def request (ring-mock/request "GET" "https://localhost:8080/help"))

;; bidi
(def router
  ["/" {"index.html" :index
          "articles/" {"index.html" :article-index
                         [:id "/article.html"] :article}}])
;; or reitit
(def router
  (reitit/router
    [["/index.html" :index]
     ["/articles/index.html" :article-index]
     ["/articles/:id/article.html" :article]]))

(absolute-url-for request router :index)
; =&gt; "https://localhost:8080/index.html"

(absolute-url-for request router :article
  {:path-params {:id 10}})
; =&gt; "https://localhost:8080/articles/10/article.html"

(absolute-url-for request router :article
  {:path-template-params {:id :article-id}})
; =&gt; "https://localhost:8080/articles/{articleId}/article.html"

(absolute-url-for request router :article
  {:path-template-params {:id :articleID}
   :path-template-param-key-fn clojure.core/identity})
; =&gt; "https://localhost:8080/articles/{articleID}/article.html"

(absolute-url-for request router :article-index
  {:query-params {:latest true
                  :sort-direction "descending"}
   :query-template-params [:per-page :page]})
; =&gt; "https://localhost:8080/articles/index.html?latest=true&amp;sortDirection=descending{&amp;perPage,page}"

(absolute-url-for request router :article
  {:path-params {:id 10}
   :query-template-params [:include-author :include-images]})
; =&gt; "https://localhost:8080/articles/10/article.html{?includeAuthor,includeImages}"

(absolute-url-for request router :article-index
  {:query-params {:latest true
                  :sort-direction "descending"}
   :query-param-key-fn clojure.core/identity
   :query-template-params [:per-page :page]
   :query-template-param-key-fn clojure.core/identity})
; =&gt; "https://localhost:8080/articles/index.html?latest=true&amp;sort-direction=descending{&amp;per-page,page}"
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/logicblocks/hype/blob/2.0.0/src/hype/core.clj#L213">view source</a></div></div><div class="public anchor" id="var-Backend"><h3>Backend</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-path-for"><h3>path-for</h3><div class="usage"><code>(path-for _ route-name parameters)</code></div><div class="doc"><div class="markdown"></div></div></div></div></div><div class="src-link"><a href="https://github.com/logicblocks/hype/blob/2.0.0/src/hype/core.clj#L25">view source</a></div></div><div class="public anchor" id="var-BackendFactory"><h3>BackendFactory</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-backend-for"><h3>backend-for</h3><div class="usage"><code>(backend-for thing)</code></div><div class="doc"><div class="markdown"></div></div></div></div></div><div class="src-link"><a href="https://github.com/logicblocks/hype/blob/2.0.0/src/hype/core.clj#L44">view source</a></div></div><div class="public anchor" id="var-base-url"><h3>base-url</h3><div class="usage"><code>(base-url request)</code></div><div class="doc"><div class="markdown"><p>Returns the URL used to reach the server based on <code>request</code>.</p>
<p>The <code>request</code> should be a ring request or equivalent. The URL is returned as a string.</p>
</div></div><div class="src-link"><a href="https://github.com/logicblocks/hype/blob/2.0.0/src/hype/core.clj#L88">view source</a></div></div></div></body></html>